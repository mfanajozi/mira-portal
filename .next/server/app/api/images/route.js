"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/images/route";
exports.ids = ["app/api/images/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fimages%2Froute&page=%2Fapi%2Fimages%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fimages%2Froute.ts&appDir=C%3A%5CUsers%5Csentr%5CDownloads%5CMzi%20Stuff%5Cmira-app2025%5Cportal%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csentr%5CDownloads%5CMzi%20Stuff%5Cmira-app2025%5Cportal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fimages%2Froute&page=%2Fapi%2Fimages%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fimages%2Froute.ts&appDir=C%3A%5CUsers%5Csentr%5CDownloads%5CMzi%20Stuff%5Cmira-app2025%5Cportal%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csentr%5CDownloads%5CMzi%20Stuff%5Cmira-app2025%5Cportal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_sentr_Downloads_Mzi_Stuff_mira_app2025_portal_src_app_api_images_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/images/route.ts */ \"(rsc)/./src/app/api/images/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/images/route\",\n        pathname: \"/api/images\",\n        filename: \"route\",\n        bundlePath: \"app/api/images/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\sentr\\\\Downloads\\\\Mzi Stuff\\\\mira-app2025\\\\portal\\\\src\\\\app\\\\api\\\\images\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_sentr_Downloads_Mzi_Stuff_mira_app2025_portal_src_app_api_images_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/images/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZpbWFnZXMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmltYWdlcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmltYWdlcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNzZW50ciU1Q0Rvd25sb2FkcyU1Q016aSUyMFN0dWZmJTVDbWlyYS1hcHAyMDI1JTVDcG9ydGFsJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNzZW50ciU1Q0Rvd25sb2FkcyU1Q016aSUyMFN0dWZmJTVDbWlyYS1hcHAyMDI1JTVDcG9ydGFsJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUM2QztBQUMxSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdGUtcmVhY3QtdHlwZXNjcmlwdC1zdGFydGVyLz9iZjZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXHNlbnRyXFxcXERvd25sb2Fkc1xcXFxNemkgU3R1ZmZcXFxcbWlyYS1hcHAyMDI1XFxcXHBvcnRhbFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxpbWFnZXNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2ltYWdlcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2ltYWdlc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvaW1hZ2VzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcc2VudHJcXFxcRG93bmxvYWRzXFxcXE16aSBTdHVmZlxcXFxtaXJhLWFwcDIwMjVcXFxccG9ydGFsXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGltYWdlc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvaW1hZ2VzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fimages%2Froute&page=%2Fapi%2Fimages%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fimages%2Froute.ts&appDir=C%3A%5CUsers%5Csentr%5CDownloads%5CMzi%20Stuff%5Cmira-app2025%5Cportal%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csentr%5CDownloads%5CMzi%20Stuff%5Cmira-app2025%5Cportal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/images/route.ts":
/*!*************************************!*\
  !*** ./src/app/api/images/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/database */ \"(rsc)/./src/lib/database.ts\");\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @clerk/nextjs/server */ \"(rsc)/./node_modules/@clerk/nextjs/dist/esm/app-router/server/auth.js\");\n\n\n\nasync function GET() {\n    try {\n        const images = await _lib_database__WEBPACK_IMPORTED_MODULE_1__.DatabaseService.getImages();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(images);\n    } catch (error) {\n        console.error(\"Error fetching images:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch images\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PATCH(request) {\n    try {\n        const authResult = await (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_2__.auth)();\n        if (!authResult?.userId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const { id, status, notes } = await request.json();\n        if (!id || !status) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing required fields\"\n            }, {\n                status: 400\n            });\n        }\n        if (![\n            \"NEW\",\n            \"IN_PROGRESS\",\n            \"RESOLVED\",\n            \"CLOSED\"\n        ].includes(status)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid status value\"\n            }, {\n                status: 400\n            });\n        }\n        await _lib_database__WEBPACK_IMPORTED_MODULE_1__.DatabaseService.updateStatus(\"images\", id, status, notes, authResult.userId);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true\n        });\n    } catch (error) {\n        console.error(\"Error updating image status:\", error);\n        const errorMessage = error instanceof Error ? error.message : \"Failed to update status\";\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: errorMessage\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9pbWFnZXMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0Q7QUFDUDtBQUNMO0FBRXJDLGVBQWVHO0lBQ3BCLElBQUk7UUFDRixNQUFNQyxTQUFTLE1BQU1ILDBEQUFlQSxDQUFDSSxTQUFTO1FBQzlDLE9BQU9MLHFEQUFZQSxDQUFDTSxJQUFJLENBQUNGO0lBQzNCLEVBQUUsT0FBT0csT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsMEJBQTBCQTtRQUN4QyxPQUFPUCxxREFBWUEsQ0FBQ00sSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBeUIsR0FBRztZQUFFRSxRQUFRO1FBQUk7SUFDOUU7QUFDRjtBQUVPLGVBQWVDLE1BQU1DLE9BQW9CO0lBQzlDLElBQUk7UUFDRixNQUFNQyxhQUFhLE1BQU1WLDBEQUFJQTtRQUM3QixJQUFJLENBQUNVLFlBQVlDLFFBQVE7WUFDdkIsT0FBT2IscURBQVlBLENBQUNNLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFlLEdBQUc7Z0JBQUVFLFFBQVE7WUFBSTtRQUNwRTtRQUVBLE1BQU0sRUFBRUssRUFBRSxFQUFFTCxNQUFNLEVBQUVNLEtBQUssRUFBRSxHQUFHLE1BQU1KLFFBQVFMLElBQUk7UUFFaEQsSUFBSSxDQUFDUSxNQUFNLENBQUNMLFFBQVE7WUFDbEIsT0FBT1QscURBQVlBLENBQUNNLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBMEIsR0FDbkM7Z0JBQUVFLFFBQVE7WUFBSTtRQUVsQjtRQUVBLElBQUksQ0FBQztZQUFDO1lBQU87WUFBZTtZQUFZO1NBQVMsQ0FBQ08sUUFBUSxDQUFDUCxTQUFTO1lBQ2xFLE9BQU9ULHFEQUFZQSxDQUFDTSxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO1lBQXVCLEdBQ2hDO2dCQUFFRSxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNUiwwREFBZUEsQ0FBQ2dCLFlBQVksQ0FDaEMsVUFDQUgsSUFDQUwsUUFDQU0sT0FDQUgsV0FBV0MsTUFBTTtRQUduQixPQUFPYixxREFBWUEsQ0FBQ00sSUFBSSxDQUFDO1lBQUVZLFNBQVM7UUFBSztJQUMzQyxFQUFFLE9BQU9YLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGdDQUFnQ0E7UUFDOUMsTUFBTVksZUFBZVosaUJBQWlCYSxRQUFRYixNQUFNYyxPQUFPLEdBQUc7UUFDOUQsT0FBT3JCLHFEQUFZQSxDQUFDTSxJQUFJLENBQUM7WUFBRUMsT0FBT1k7UUFBYSxHQUFHO1lBQUVWLFFBQVE7UUFBSTtJQUNsRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml0ZS1yZWFjdC10eXBlc2NyaXB0LXN0YXJ0ZXIvLi9zcmMvYXBwL2FwaS9pbWFnZXMvcm91dGUudHM/ZWZjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgRGF0YWJhc2VTZXJ2aWNlIH0gZnJvbSAnQC9saWIvZGF0YWJhc2UnO1xuaW1wb3J0IHsgYXV0aCB9IGZyb20gJ0BjbGVyay9uZXh0anMvc2VydmVyJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBpbWFnZXMgPSBhd2FpdCBEYXRhYmFzZVNlcnZpY2UuZ2V0SW1hZ2VzKCk7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGltYWdlcyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgaW1hZ2VzOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBpbWFnZXMnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBBVENIKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYXV0aFJlc3VsdCA9IGF3YWl0IGF1dGgoKTtcbiAgICBpZiAoIWF1dGhSZXN1bHQ/LnVzZXJJZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBpZCwgc3RhdHVzLCBub3RlcyB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgXG4gICAgaWYgKCFpZCB8fCAhc3RhdHVzKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdNaXNzaW5nIHJlcXVpcmVkIGZpZWxkcycgfSwgXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIVsnTkVXJywgJ0lOX1BST0dSRVNTJywgJ1JFU09MVkVEJywgJ0NMT1NFRCddLmluY2x1ZGVzKHN0YXR1cykpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0ludmFsaWQgc3RhdHVzIHZhbHVlJyB9LCBcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGF3YWl0IERhdGFiYXNlU2VydmljZS51cGRhdGVTdGF0dXMoXG4gICAgICAnaW1hZ2VzJywgXG4gICAgICBpZCwgXG4gICAgICBzdGF0dXMgYXMgJ05FVycgfCAnSU5fUFJPR1JFU1MnIHwgJ1JFU09MVkVEJyB8ICdDTE9TRUQnLFxuICAgICAgbm90ZXMsXG4gICAgICBhdXRoUmVzdWx0LnVzZXJJZFxuICAgICk7XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBpbWFnZSBzdGF0dXM6JywgZXJyb3IpO1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byB1cGRhdGUgc3RhdHVzJztcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogZXJyb3JNZXNzYWdlIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiRGF0YWJhc2VTZXJ2aWNlIiwiYXV0aCIsIkdFVCIsImltYWdlcyIsImdldEltYWdlcyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJzdGF0dXMiLCJQQVRDSCIsInJlcXVlc3QiLCJhdXRoUmVzdWx0IiwidXNlcklkIiwiaWQiLCJub3RlcyIsImluY2x1ZGVzIiwidXBkYXRlU3RhdHVzIiwic3VjY2VzcyIsImVycm9yTWVzc2FnZSIsIkVycm9yIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/images/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/database.ts":
/*!*****************************!*\
  !*** ./src/lib/database.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DatabaseService: () => (/* binding */ DatabaseService)\n/* harmony export */ });\n/* harmony import */ var _neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @neondatabase/serverless */ \"(rsc)/./node_modules/@neondatabase/serverless/index.mjs\");\n\n// Create pool only if DATABASE_URL is available\nconst pool = process.env.DATABASE_URL ? new _neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__.Pool({\n    connectionString: process.env.DATABASE_URL\n}) : null;\n// Helper function to check database connection\nfunction checkDatabaseConnection() {\n    if (!pool) {\n        throw new Error(\"Database connection not configured. Please set DATABASE_URL environment variable.\");\n    }\n    return pool;\n}\nclass DatabaseService {\n    static async getMessages() {\n        const activePool = checkDatabaseConnection();\n        const client = await activePool.connect();\n        try {\n            const result = await client.query(\"SELECT * FROM messages ORDER BY date_reported DESC\");\n            return result.rows;\n        } catch (error) {\n            console.error(\"Database error in getMessages:\", error);\n            return [];\n        } finally{\n            client.release();\n        }\n    }\n    static async getAudio() {\n        const activePool = checkDatabaseConnection();\n        const client = await activePool.connect();\n        try {\n            const result = await client.query(\"SELECT * FROM audio ORDER BY date_reported DESC\");\n            return result.rows;\n        } catch (error) {\n            console.error(\"Database error in getAudio:\", error);\n            return [];\n        } finally{\n            client.release();\n        }\n    }\n    static async getImages() {\n        const activePool = checkDatabaseConnection();\n        const client = await activePool.connect();\n        try {\n            const result = await client.query(\"SELECT * FROM images ORDER BY date_reported DESC\");\n            return result.rows;\n        } catch (error) {\n            console.error(\"Database error in getImages:\", error);\n            return [];\n        } finally{\n            client.release();\n        }\n    }\n    static async updateStatus(table, id, status, notes, userId) {\n        const activePool = checkDatabaseConnection();\n        const client = await activePool.connect();\n        // Validate the table name to prevent SQL injection\n        if (![\n            \"messages\",\n            \"audio\",\n            \"images\"\n        ].includes(table)) {\n            throw new Error(\"Invalid table name\");\n        }\n        try {\n            await client.query(\"BEGIN\");\n            // Get current status for logging using a prepared statement\n            const selectQuery = `SELECT status FROM ${table} WHERE id = $1`;\n            const currentResult = await client.query(selectQuery, [\n                id\n            ]);\n            if (!currentResult.rows[0]) {\n                throw new Error(`Record not found in ${table} table`);\n            }\n            const oldStatus = currentResult.rows[0].status;\n            // Update the record\n            const updateQuery = `UPDATE ${table} SET status = $1::report_status, notes = COALESCE($2, notes), assigned_to = COALESCE($3, assigned_to) WHERE id = $4`;\n            const updateResult = await client.query(updateQuery, [\n                status,\n                notes,\n                userId,\n                id\n            ]);\n            if (updateResult.rowCount === 0) {\n                throw new Error(\"Record not found\");\n            }\n            // Log the activity\n            await client.query(\"INSERT INTO activity_logs (table_name, record_id, action, old_status, new_status, notes, changed_by, changed_at) VALUES ($1, $2, $3, $4, $5, $6, $7, NOW())\", [\n                table,\n                id,\n                \"status_update\",\n                oldStatus,\n                status,\n                notes,\n                userId || \"system\"\n            ]);\n            await client.query(\"COMMIT\");\n        } catch (error) {\n            await client.query(\"ROLLBACK\");\n            console.error(\"Database error in updateStatus:\", error);\n            throw error;\n        } finally{\n            client.release();\n        }\n    }\n    static async getStats() {\n        const activePool = checkDatabaseConnection();\n        const client = await activePool.connect();\n        try {\n            const [messagesResult, audioResult, imagesResult, openQueriesResult] = await Promise.all([\n                client.query(`\n          SELECT COUNT(*) as total \n          FROM messages \n          WHERE date_reported >= NOW() - INTERVAL '90 days'\n        `),\n                client.query(`\n          SELECT COUNT(*) as total \n          FROM audio \n          WHERE date_reported >= NOW() - INTERVAL '90 days'\n        `),\n                client.query(`\n          SELECT COUNT(*) as total \n          FROM images \n          WHERE date_reported >= NOW() - INTERVAL '90 days'\n        `),\n                client.query(`\n          SELECT \n            (SELECT COUNT(*) FROM messages WHERE status = 'NEW') +\n            (SELECT COUNT(*) FROM audio WHERE status = 'NEW') +\n            (SELECT COUNT(*) FROM images WHERE status = 'NEW') as total\n        `)\n            ]);\n            return {\n                totalMessages: parseInt(messagesResult.rows[0].total),\n                totalAudio: parseInt(audioResult.rows[0].total),\n                totalImages: parseInt(imagesResult.rows[0].total),\n                openQueries: parseInt(openQueriesResult.rows[0].total)\n            };\n        } catch (error) {\n            console.error(\"Database error in getStats:\", error);\n            return {\n                totalMessages: 0,\n                totalAudio: 0,\n                totalImages: 0,\n                openQueries: 0\n            };\n        } finally{\n            client.release();\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGFBQWE7Z0JBQ2JDLGFBQWE7WUFDZjtRQUNGLFNBQVU7WUFDUm5DLE9BQU9PLE9BQU87UUFDaEI7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml0ZS1yZWFjdC10eXBlc2NyaXB0LXN0YXJ0ZXIvLi9zcmMvbGliL2RhdGFiYXNlLnRzP2MxYjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUG9vbCB9IGZyb20gJ0BuZW9uZGF0YWJhc2Uvc2VydmVybGVzcyc7XG5cbi8vIENyZWF0ZSBwb29sIG9ubHkgaWYgREFUQUJBU0VfVVJMIGlzIGF2YWlsYWJsZVxuY29uc3QgcG9vbCA9IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCBcbiAgPyBuZXcgUG9vbCh7IGNvbm5lY3Rpb25TdHJpbmc6IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCB9KVxuICA6IG51bGw7XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBkYXRhYmFzZSBjb25uZWN0aW9uXG5mdW5jdGlvbiBjaGVja0RhdGFiYXNlQ29ubmVjdGlvbigpIHtcbiAgaWYgKCFwb29sKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIG5vdCBjb25maWd1cmVkLiBQbGVhc2Ugc2V0IERBVEFCQVNFX1VSTCBlbnZpcm9ubWVudCB2YXJpYWJsZS4nKTtcbiAgfVxuICByZXR1cm4gcG9vbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlIHtcbiAgaWQ6IHN0cmluZztcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBhZGRyZXNzPzogc3RyaW5nO1xuICBsb2NhdGlvbj86IGFueTtcbiAgZGF0ZV9yZXBvcnRlZDogc3RyaW5nO1xuICBzdGF0dXM6ICdORVcnIHwgJ0lOX1BST0dSRVNTJyB8ICdSRVNPTFZFRCcgfCAnQ0xPU0VEJztcbiAgYXNzaWduZWRfdG8/OiBzdHJpbmc7XG4gIG5vdGVzPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvIHtcbiAgaWQ6IHN0cmluZztcbiAgYXVkaW9fdXJsOiBzdHJpbmc7XG4gIGFkZHJlc3M/OiBzdHJpbmc7XG4gIGxvY2F0aW9uPzogYW55O1xuICBkYXRlX3JlcG9ydGVkOiBzdHJpbmc7XG4gIHN0YXR1czogJ05FVycgfCAnSU5fUFJPR1JFU1MnIHwgJ1JFU09MVkVEJyB8ICdDTE9TRUQnO1xuICBhc3NpZ25lZF90bz86IHN0cmluZztcbiAgbm90ZXM/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2Uge1xuICBpZDogc3RyaW5nO1xuICBpbWFnZV91cmw6IHN0cmluZztcbiAgYWRkcmVzcz86IHN0cmluZztcbiAgbG9jYXRpb24/OiBhbnk7XG4gIGRhdGVfcmVwb3J0ZWQ6IHN0cmluZztcbiAgc3RhdHVzOiAnTkVXJyB8ICdJTl9QUk9HUkVTUycgfCAnUkVTT0xWRUQnIHwgJ0NMT1NFRCc7XG4gIGFzc2lnbmVkX3RvPzogc3RyaW5nO1xuICBub3Rlcz86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBY3Rpdml0eUxvZyB7XG4gIGlkOiBzdHJpbmc7XG4gIHRhYmxlX25hbWU6IHN0cmluZztcbiAgcmVjb3JkX2lkOiBzdHJpbmc7XG4gIGFjdGlvbjogc3RyaW5nO1xuICBvbGRfc3RhdHVzPzogc3RyaW5nO1xuICBuZXdfc3RhdHVzPzogc3RyaW5nO1xuICBub3Rlcz86IHN0cmluZztcbiAgY2hhbmdlZF9ieTogc3RyaW5nO1xuICBjaGFuZ2VkX2F0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhYmFzZVNlcnZpY2Uge1xuICBzdGF0aWMgYXN5bmMgZ2V0TWVzc2FnZXMoKTogUHJvbWlzZTxNZXNzYWdlW10+IHtcbiAgICBjb25zdCBhY3RpdmVQb29sID0gY2hlY2tEYXRhYmFzZUNvbm5lY3Rpb24oKTtcbiAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBhY3RpdmVQb29sLmNvbm5lY3QoKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50LnF1ZXJ5KFxuICAgICAgICAnU0VMRUNUICogRlJPTSBtZXNzYWdlcyBPUkRFUiBCWSBkYXRlX3JlcG9ydGVkIERFU0MnXG4gICAgICApO1xuICAgICAgcmV0dXJuIHJlc3VsdC5yb3dzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBlcnJvciBpbiBnZXRNZXNzYWdlczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNsaWVudC5yZWxlYXNlKCk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldEF1ZGlvKCk6IFByb21pc2U8QXVkaW9bXT4ge1xuICAgIGNvbnN0IGFjdGl2ZVBvb2wgPSBjaGVja0RhdGFiYXNlQ29ubmVjdGlvbigpO1xuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGFjdGl2ZVBvb2wuY29ubmVjdCgpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQucXVlcnkoXG4gICAgICAgICdTRUxFQ1QgKiBGUk9NIGF1ZGlvIE9SREVSIEJZIGRhdGVfcmVwb3J0ZWQgREVTQydcbiAgICAgICk7XG4gICAgICByZXR1cm4gcmVzdWx0LnJvd3M7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIGVycm9yIGluIGdldEF1ZGlvOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY2xpZW50LnJlbGVhc2UoKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0SW1hZ2VzKCk6IFByb21pc2U8SW1hZ2VbXT4ge1xuICAgIGNvbnN0IGFjdGl2ZVBvb2wgPSBjaGVja0RhdGFiYXNlQ29ubmVjdGlvbigpO1xuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGFjdGl2ZVBvb2wuY29ubmVjdCgpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQucXVlcnkoXG4gICAgICAgICdTRUxFQ1QgKiBGUk9NIGltYWdlcyBPUkRFUiBCWSBkYXRlX3JlcG9ydGVkIERFU0MnXG4gICAgICApO1xuICAgICAgcmV0dXJuIHJlc3VsdC5yb3dzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBlcnJvciBpbiBnZXRJbWFnZXM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBjbGllbnQucmVsZWFzZSgpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB1cGRhdGVTdGF0dXMoXG4gICAgdGFibGU6ICdtZXNzYWdlcycgfCAnYXVkaW8nIHwgJ2ltYWdlcycsXG4gICAgaWQ6IHN0cmluZyxcbiAgICBzdGF0dXM6ICdORVcnIHwgJ0lOX1BST0dSRVNTJyB8ICdSRVNPTFZFRCcgfCAnQ0xPU0VEJyxcbiAgICBub3Rlcz86IHN0cmluZyxcbiAgICB1c2VySWQ/OiBzdHJpbmdcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgYWN0aXZlUG9vbCA9IGNoZWNrRGF0YWJhc2VDb25uZWN0aW9uKCk7XG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgYWN0aXZlUG9vbC5jb25uZWN0KCk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgdGhlIHRhYmxlIG5hbWUgdG8gcHJldmVudCBTUUwgaW5qZWN0aW9uXG4gICAgaWYgKCFbJ21lc3NhZ2VzJywgJ2F1ZGlvJywgJ2ltYWdlcyddLmluY2x1ZGVzKHRhYmxlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRhYmxlIG5hbWUnKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KCdCRUdJTicpO1xuXG4gICAgICAvLyBHZXQgY3VycmVudCBzdGF0dXMgZm9yIGxvZ2dpbmcgdXNpbmcgYSBwcmVwYXJlZCBzdGF0ZW1lbnRcbiAgICAgIGNvbnN0IHNlbGVjdFF1ZXJ5ID0gYFNFTEVDVCBzdGF0dXMgRlJPTSAke3RhYmxlfSBXSEVSRSBpZCA9ICQxYDtcbiAgICAgIGNvbnN0IGN1cnJlbnRSZXN1bHQgPSBhd2FpdCBjbGllbnQucXVlcnkoc2VsZWN0UXVlcnksIFtpZF0pO1xuICAgICAgXG4gICAgICBpZiAoIWN1cnJlbnRSZXN1bHQucm93c1swXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlY29yZCBub3QgZm91bmQgaW4gJHt0YWJsZX0gdGFibGVgKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3Qgb2xkU3RhdHVzID0gY3VycmVudFJlc3VsdC5yb3dzWzBdLnN0YXR1cztcblxuICAgICAgLy8gVXBkYXRlIHRoZSByZWNvcmRcbiAgICAgIGNvbnN0IHVwZGF0ZVF1ZXJ5ID0gYFVQREFURSAke3RhYmxlfSBTRVQgc3RhdHVzID0gJDE6OnJlcG9ydF9zdGF0dXMsIG5vdGVzID0gQ09BTEVTQ0UoJDIsIG5vdGVzKSwgYXNzaWduZWRfdG8gPSBDT0FMRVNDRSgkMywgYXNzaWduZWRfdG8pIFdIRVJFIGlkID0gJDRgO1xuICAgICAgY29uc3QgdXBkYXRlUmVzdWx0ID0gYXdhaXQgY2xpZW50LnF1ZXJ5KHVwZGF0ZVF1ZXJ5LCBbc3RhdHVzLCBub3RlcywgdXNlcklkLCBpZF0pO1xuICAgICAgXG4gICAgICBpZiAodXBkYXRlUmVzdWx0LnJvd0NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUmVjb3JkIG5vdCBmb3VuZCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBMb2cgdGhlIGFjdGl2aXR5XG4gICAgICBhd2FpdCBjbGllbnQucXVlcnkoXG4gICAgICAgICdJTlNFUlQgSU5UTyBhY3Rpdml0eV9sb2dzICh0YWJsZV9uYW1lLCByZWNvcmRfaWQsIGFjdGlvbiwgb2xkX3N0YXR1cywgbmV3X3N0YXR1cywgbm90ZXMsIGNoYW5nZWRfYnksIGNoYW5nZWRfYXQpIFZBTFVFUyAoJDEsICQyLCAkMywgJDQsICQ1LCAkNiwgJDcsIE5PVygpKScsXG4gICAgICAgIFt0YWJsZSwgaWQsICdzdGF0dXNfdXBkYXRlJywgb2xkU3RhdHVzLCBzdGF0dXMsIG5vdGVzLCB1c2VySWQgfHwgJ3N5c3RlbSddXG4gICAgICApO1xuXG4gICAgICBhd2FpdCBjbGllbnQucXVlcnkoJ0NPTU1JVCcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBhd2FpdCBjbGllbnQucXVlcnkoJ1JPTExCQUNLJyk7XG4gICAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBlcnJvciBpbiB1cGRhdGVTdGF0dXM6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNsaWVudC5yZWxlYXNlKCk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFN0YXRzKCkge1xuICAgIGNvbnN0IGFjdGl2ZVBvb2wgPSBjaGVja0RhdGFiYXNlQ29ubmVjdGlvbigpO1xuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGFjdGl2ZVBvb2wuY29ubmVjdCgpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBbbWVzc2FnZXNSZXN1bHQsIGF1ZGlvUmVzdWx0LCBpbWFnZXNSZXN1bHQsIG9wZW5RdWVyaWVzUmVzdWx0XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgY2xpZW50LnF1ZXJ5KGBcbiAgICAgICAgICBTRUxFQ1QgQ09VTlQoKikgYXMgdG90YWwgXG4gICAgICAgICAgRlJPTSBtZXNzYWdlcyBcbiAgICAgICAgICBXSEVSRSBkYXRlX3JlcG9ydGVkID49IE5PVygpIC0gSU5URVJWQUwgJzkwIGRheXMnXG4gICAgICAgIGApLFxuICAgICAgICBjbGllbnQucXVlcnkoYFxuICAgICAgICAgIFNFTEVDVCBDT1VOVCgqKSBhcyB0b3RhbCBcbiAgICAgICAgICBGUk9NIGF1ZGlvIFxuICAgICAgICAgIFdIRVJFIGRhdGVfcmVwb3J0ZWQgPj0gTk9XKCkgLSBJTlRFUlZBTCAnOTAgZGF5cydcbiAgICAgICAgYCksXG4gICAgICAgIGNsaWVudC5xdWVyeShgXG4gICAgICAgICAgU0VMRUNUIENPVU5UKCopIGFzIHRvdGFsIFxuICAgICAgICAgIEZST00gaW1hZ2VzIFxuICAgICAgICAgIFdIRVJFIGRhdGVfcmVwb3J0ZWQgPj0gTk9XKCkgLSBJTlRFUlZBTCAnOTAgZGF5cydcbiAgICAgICAgYCksXG4gICAgICAgIGNsaWVudC5xdWVyeShgXG4gICAgICAgICAgU0VMRUNUIFxuICAgICAgICAgICAgKFNFTEVDVCBDT1VOVCgqKSBGUk9NIG1lc3NhZ2VzIFdIRVJFIHN0YXR1cyA9ICdORVcnKSArXG4gICAgICAgICAgICAoU0VMRUNUIENPVU5UKCopIEZST00gYXVkaW8gV0hFUkUgc3RhdHVzID0gJ05FVycpICtcbiAgICAgICAgICAgIChTRUxFQ1QgQ09VTlQoKikgRlJPTSBpbWFnZXMgV0hFUkUgc3RhdHVzID0gJ05FVycpIGFzIHRvdGFsXG4gICAgICAgIGApXG4gICAgICBdKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG90YWxNZXNzYWdlczogcGFyc2VJbnQobWVzc2FnZXNSZXN1bHQucm93c1swXS50b3RhbCksXG4gICAgICAgIHRvdGFsQXVkaW86IHBhcnNlSW50KGF1ZGlvUmVzdWx0LnJvd3NbMF0udG90YWwpLFxuICAgICAgICB0b3RhbEltYWdlczogcGFyc2VJbnQoaW1hZ2VzUmVzdWx0LnJvd3NbMF0udG90YWwpLFxuICAgICAgICBvcGVuUXVlcmllczogcGFyc2VJbnQob3BlblF1ZXJpZXNSZXN1bHQucm93c1swXS50b3RhbClcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIGVycm9yIGluIGdldFN0YXRzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvdGFsTWVzc2FnZXM6IDAsXG4gICAgICAgIHRvdGFsQXVkaW86IDAsXG4gICAgICAgIHRvdGFsSW1hZ2VzOiAwLFxuICAgICAgICBvcGVuUXVlcmllczogMFxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY2xpZW50LnJlbGVhc2UoKTtcbiAgICB9XG4gIH1cbn0iXSwibmFtZXMiOlsiUG9vbCIsInBvb2wiLCJwcm9jZXNzIiwiZW52IiwiREFUQUJBU0VfVVJMIiwiY29ubmVjdGlvblN0cmluZyIsImNoZWNrRGF0YWJhc2VDb25uZWN0aW9uIiwiRXJyb3IiLCJEYXRhYmFzZVNlcnZpY2UiLCJnZXRNZXNzYWdlcyIsImFjdGl2ZVBvb2wiLCJjbGllbnQiLCJjb25uZWN0IiwicmVzdWx0IiwicXVlcnkiLCJyb3dzIiwiZXJyb3IiLCJjb25zb2xlIiwicmVsZWFzZSIsImdldEF1ZGlvIiwiZ2V0SW1hZ2VzIiwidXBkYXRlU3RhdHVzIiwidGFibGUiLCJpZCIsInN0YXR1cyIsIm5vdGVzIiwidXNlcklkIiwiaW5jbHVkZXMiLCJzZWxlY3RRdWVyeSIsImN1cnJlbnRSZXN1bHQiLCJvbGRTdGF0dXMiLCJ1cGRhdGVRdWVyeSIsInVwZGF0ZVJlc3VsdCIsInJvd0NvdW50IiwiZ2V0U3RhdHMiLCJtZXNzYWdlc1Jlc3VsdCIsImF1ZGlvUmVzdWx0IiwiaW1hZ2VzUmVzdWx0Iiwib3BlblF1ZXJpZXNSZXN1bHQiLCJQcm9taXNlIiwiYWxsIiwidG90YWxNZXNzYWdlcyIsInBhcnNlSW50IiwidG90YWwiLCJ0b3RhbEF1ZGlvIiwidG90YWxJbWFnZXMiLCJvcGVuUXVlcmllcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/database.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@clerk","vendor-chunks/next","vendor-chunks/cookie","vendor-chunks/@neondatabase"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fimages%2Froute&page=%2Fapi%2Fimages%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fimages%2Froute.ts&appDir=C%3A%5CUsers%5Csentr%5CDownloads%5CMzi%20Stuff%5Cmira-app2025%5Cportal%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csentr%5CDownloads%5CMzi%20Stuff%5Cmira-app2025%5Cportal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();